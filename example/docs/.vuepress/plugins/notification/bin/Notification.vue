<template>
  <transition name="fade">
    <div v-if="visible" class="notification-wrapper">
      <h4 class="notification-title">
        <i class="iconfont reco-tongzhi"></i>
        <span>小站更新啦 🎉🎉🎉</span>
        <i class="btn-close" @click="closeNote">
          <svg t="1573745677073" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4448" width="22" height="22"><path d="M512 34.133333a486.4 486.4 0 1 0 486.4 486.4A486.4 486.4 0 0 0 512 34.133333z m209.4848 632.8064l-55.6032 55.466667-151.517867-151.125333-151.517866 151.1168-55.6032-55.466667 151.517866-151.108267L307.242667 364.714667l55.6032-55.466667 151.517866 151.125333 151.517867-151.1168 55.6032 55.466667-151.517867 151.099733z m0 0" p-id="4449"></path></svg>
        </i>
      </h4>
      <div class="notification-content">
        <img :src="require('./rvcode.png')" alt="">
      </div>
      <div style="padding: 0 16px">
        <h3 style="color: #000000;font-style:italic">通知</h3>
        <h5 class="msg-one" >使用Vuepress开发的vuepress-theme-reco搭建个人博客</h5>
        <h5 class="msg-two">本站部署在Github Pages，主题适配暗色/亮色模式，喜欢尝鲜的朋友可以开始尝试了，有问题欢迎加微信交流！</h5>
      </div>
    </div>
  </transition>
</template>

<script>
  export default {
    name: 'BackToTop',
    data () {
      return {
        visible: false
      }
    },
    mounted () {
      const closeNote = sessionStorage.getItem('closeNote')
      this.visible = closeNote === 'true' ? false : true
    },
    methods: {
      closeNote () {
        this.visible = false
        sessionStorage.setItem('closeNote', 'true')
      }
    }
  }
</script>

<style lang="stylus" scoped>
  .notification-wrapper
    position fixed
    top 80px
    right 20px
    z-index 19
    width 260px
    box-sizing border-box
    background #fff
    border 1px solid #3eaf7c
    border-radius .25rem
    background var(--background-color)
    box-shadow var(--box-shadow)
    .notification-title
      position relative
      box-sizing border-box
      padding 10px
      margin 0
      background #3eaf7c
      color #fff
      i
        color #fff
      .btn-close
        position absolute
        display inline-block
        width 22px
        height 22px
        right 10px
        top 0
        bottom 0
        margin auto
        cursor pointer
        svg
          fill #fff
    .notification-content
      box-sizing border-box
      padding 10px
      img
        width 100%
  .fade-enter-active, .fade-leave-active {
    transition: opacity .5s;
  }
  .fade-enter, .fade-leave-to {
    opacity: 0;
  }
  .msg-one, .msg-two{
    text-decoration blink
    background -webkit-linear-gradient(top,#ffffff, #ecf8f3)
    text-shadow 0px 0px 0px #333333
    font-style italic
  }
</style>
